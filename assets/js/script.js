// Assignment Code
var generateBtn = document.querySelector("#generate");

//create generatePassword function
function generatePassword() {
  // window prompt for password length
  var promptLength = prompt("How long would you like your password to be?");
  // window confirmation for character inclusions
  var confirmLower = confirm("Would you like to include lower case letters?");
  var confirmUpper = confirm("Would you like to include upper case letters?");
  var confirmNumber = confirm("Would you like to include number characters?");
  var confirmSpecial = confirm("Would you like to include special characters?");

  // arrays of the various character options
  const lowerChars = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z",];
  const upperChars = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z",];
  const numberChars = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"];
  const specialChars = ["`", "~", "!", "@", "#", "$", "%", "^", "&", "*", "(", ")", "-", "_", "=", "+", "[", "{", "]", "}", "'", "|", ";", ":", ",", "<", ".", ">", "/", "?"];

  // defines variable possibleChars and sets the value as an empty array
  var possibleChars = [];

  // if statements for each character option array. If user confirmed that options inclusion than that options array gets pushed into the possibleChars array.
  if (confirmLower) possibleChars.push(lowerChars);
    console.log(possibleChars);
  if (confirmUpper) possibleChars.push(upperChars);
    console.log(possibleChars);
  if (confirmNumber) possibleChars.push(numberChars);
    console.log(possibleChars);
  if (confirmSpecial) possibleChars.push(specialChars);
    console.log(possibleChars);
  // this leaves us with an array of arrays. If all options were confirmed than it would be; possibleChars = [[lowerChars], [upperChars], [numberChars], [specialChars]];

  // this checks the prompt length to make sure it is a number between 8 & 128
  while (isNaN(promptLength) || promptLength < 8 || promptLength > 128) {
    promptLength = prompt("Please type a password length between 8 - 128.");
  }

// declares a variable called passwordChars with a value of an empty string
  let passwordChars = "";

  // opens a for loop that increments i from 0 to the user input value of promptLength
    for (i = 0; i < promptLength; i++) {
      // declares a variable called rand1 and sets its value to a random number based on the user confirmations
        //possibleChars can be between 0-3 depending on what types of characters the user chose to include.
      let rand1 = Math.floor(Math.random() * possibleChars.length);
      
      // adds to the string value of passwordChars a random character from the random index based on the number generated by rand1
      passwordChars += possibleChars[rand1][Math.floor(Math.random() * possibleChars[rand1].length)];
      // the loop will now repeat until i becomes equal to promptLength
        // once i becomes equal to prompt the for loop will end
    }
  // the generatePassword function will now return the value of passwordChars to the global context
  return passwordChars
}

// defines a function of writePassword
function writePassword() {
  //assigns the value of the function generatePassword() as the value of a new variable called password
  var password = generatePassword();
  // sets a variable passwordText to the DOM element with the id of password which is the text area on the div.card-body
  var passwordText = document.querySelector("#password");

  // prints the value of password to the dom location of passwordText, which is the text area on the div.card-body
  passwordText.value = password;

}

// Add event listener to generate button
generateBtn.addEventListener("click", writePassword);
